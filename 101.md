# [æ‰‹æŠŠæ‰‹å¸¶ä½ å­¸ Tensorflowã€Pytorchã€CUDAã€NVIDIA-SMIã€cuDNNã€Ubuntuã€NGCã€Dockerã€NVIDIA-Docker çš„å®‰è£èˆ‡è¨­å®šæ•™å­¸](https://deep-learning-101.github.io/)

**ä½œè€…**ï¼š[TonTon Huang Ph.D.](https://www.twman.org/)  
**æ—¥æœŸ**ï¼š2020å¹´5æœˆ  
**åŽŸæ–‡ç¶²å€**ï¼š[https://blog.twman.org/2020/05/DeepLearning.html](https://blog.twman.org/2020/05/DeepLearning.html)

---

## æ–‡ç« æ¦‚è¿°

æœ¬æ–‡æä¾›äº†å¾žé›¶é–‹å§‹å»ºç«‹æ·±åº¦å­¸ç¿’é–‹ç™¼ç’°å¢ƒçš„è©³ç´°æŒ‡å—ï¼Œæ¶µè“‹äº†ç¡¬é«”é¸æ“‡ã€ä½œæ¥­ç³»çµ±å®‰è£ã€é©…å‹•ç¨‹å¼è¨­å®šã€CUDA/cuDNN å®‰è£ã€ä»¥åŠ Docker/NVIDIA-Docker çš„é…ç½®ï¼Œæ—¨åœ¨å”åŠ©è®€è€…é¿é–‹å¸¸è¦‹çš„å®‰è£èˆ‡è¨­å®šé™·é˜±ã€‚

---

## ä¸»è¦å…§å®¹æ‘˜è¦

### 1. ç¡¬é«”é¸æ“‡èˆ‡å‡ç´šæ­·ç¨‹

- **GPU é¸æ“‡å»ºè­°**ï¼šå»ºè­°é¸æ“‡åŸºæ–¼ Pascal æž¶æ§‹ï¼ˆå¦‚ GTX 1080ï¼‰ä»¥ä¸Šçš„ GPUï¼Œé€™æ¨£èƒ½æ›´å¥½åœ°æ»¿è¶³æ·±åº¦å­¸ç¿’çš„éœ€æ±‚ã€‚
- **ä½œè€…çš„å‡ç´šæ­·ç¨‹**ï¼š
  - 2016å¹´ï¼šGIGABYTE GTX 960 4G Ã—2
  - 2017å¹´ï¼šæŠ€å˜‰ GTX1080 XTREME GAMING 8G
  - 2018å¹´ï¼šNVIDIA TITAN V + TITAN XP
  - 2023å¹´ï¼šRTX 6000 Ada 48GB Ã—2 å’Œ A100 80GB Ã—4
  - 2024å¹´ï¼šRTX 6000 Ada 48GB Ã—8 Ã—2

### 2. ä½œæ¥­ç³»çµ±èˆ‡ä¾è³´é …è¨­å®š

- **Ubuntu ç³»çµ±é¸æ“‡**ï¼šå»ºè­°ä½¿ç”¨ Ubuntu 16.04 LTS æˆ– 20.04 LTSï¼Œé€™äº›ç‰ˆæœ¬å° CUDA å’Œ cuDNN çš„æ”¯æ´è¼ƒå¥½ã€‚
- **å®‰è£æ­¥é©Ÿ**ï¼š
  - é è£é©…å‹•ç¨‹å¼æ™‚ï¼Œéœ€è¦å…ˆå®‰è£ç›¸é—œä¾è³´ï¼ˆå¦‚ `dkms`ã€`build-essential` ç­‰ï¼‰ã€‚
  - è¨­å®šåˆé©çš„ç‰ˆæœ¬ä»¥ç¢ºä¿é©…å‹•ç¨‹å¼èˆ‡ç¡¬é«”çš„å…¼å®¹æ€§ã€‚
  
- **USB Wi-Fi é©…å‹•å•é¡Œ**ï¼šUbuntu ä¸Šçš„ USB Wi-Fi é©…å‹•å¯èƒ½æœƒé‡åˆ°ç›¸å®¹æ€§å•é¡Œï¼Œé€™æ™‚éœ€è¦æ‰‹å‹•ç·¨è­¯é©…å‹•æˆ–é¸æ“‡å…¶ä»–æ”¯æ´çš„ç¡¬é«”ã€‚

### 3. GPU é©…å‹•èˆ‡ CUDA/cuDNN å®‰è£

- **é©…å‹•å®‰è£å»ºè­°**ï¼š
  - ç§»é™¤é è£çš„ NVIDIA é©…å‹•ï¼š`sudo apt-get remove --purge nvidia*`
  - å®‰è£ä¾è³´åŒ…ï¼š`sudo apt install dkms build-essential linux-headers-generic`
  - ä¸‹è¼‰ä¸¦å®‰è£ NVIDIA é©…å‹•ç¨‹å¼ï¼Œä¸¦é—œé–‰åœ–å½¢ç•Œé¢é€²è¡Œå®‰è£ã€‚
  
- **CUDA å®‰è£æ­¥é©Ÿ**ï¼š
  - ç¢ºä¿ CUDA ç‰ˆæœ¬èˆ‡æ‰€ä½¿ç”¨çš„ GPU åž‹è™Ÿå…¼å®¹ã€‚é¸æ“‡åˆé©ç‰ˆæœ¬çš„ CUDA å’Œ cuDNNã€‚
  - é€šå¸¸éœ€è¦æ ¹æ“š GPU é¡¯ç¤ºå¡çš„åž‹è™Ÿä¾†é¸æ“‡ç›¸å®¹çš„ CUDA/cuDNN ç‰ˆæœ¬ã€‚

- **cuDNN é…ç½®**ï¼š
  - åœ¨å®‰è£ CUDA ä¹‹å¾Œï¼Œå®‰è£ cuDNN ä»¥æå‡æ·±åº¦å­¸ç¿’æ¨¡åž‹çš„é‹è¡Œé€Ÿåº¦ã€‚
  - å®‰è£æ™‚ï¼Œéœ€å°‡ cuDNN çš„å‹•æ…‹åº«è·¯å¾‘æ·»åŠ åˆ° `LD_LIBRARY_PATH` ä¸­ã€‚

### 4. Docker èˆ‡ NVIDIA-Docker çš„é…ç½®

- **Docker å®‰è£å»ºè­°**ï¼šä½¿ç”¨ Docker é€²è¡Œæ·±åº¦å­¸ç¿’é–‹ç™¼å¯ä»¥æ›´å¥½åœ°ç®¡ç†ç’°å¢ƒï¼Œé¿å…ç‰ˆæœ¬è¡çªã€‚
  - éœ€è¦å®‰è£ Docker CEï¼Œä¸¦è¨­å®šå¥½ç›¸æ‡‰çš„æ¬Šé™ä¾†é‹è¡Œ Docker å®¹å™¨ã€‚
  
- **NVIDIA-Docker é…ç½®**ï¼š
  - å®‰è£ NVIDIA-Dockerï¼Œä½¿å¾— Docker å®¹å™¨å¯ä»¥ä½¿ç”¨ GPU è³‡æºã€‚
  - é€™æ¨£çš„é…ç½®å¯ä»¥è®“é–‹ç™¼è€…åœ¨ä¸åŒçš„ç³»çµ±ä¸Šè¼•é¬†ä½¿ç”¨ GPUï¼Œä¸¦é¿å…æ‰‹å‹•å®‰è£ä¾è³´åº«çš„éº»ç…©ã€‚

### 5. å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºç­–ç•¥

- **å®‰è£éŽç¨‹ä¸­å¸¸è¦‹éŒ¯èª¤**ï¼š
  - å®‰è£ CUDA æˆ– cuDNN æ™‚ï¼Œå¯èƒ½æœƒé‡åˆ°è¨±å¤šç‰ˆæœ¬è¡çªå•é¡Œï¼Œé€™æ™‚éœ€è¦å°å¿ƒæª¢æŸ¥æ¯å€‹æ­¥é©Ÿçš„ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ã€‚
  - è‹¥ NVIDIA é©…å‹•ç„¡æ³•æ­£ç¢ºå®‰è£ï¼Œæª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–è»Ÿé«”è¡çªï¼Œç‰¹åˆ¥æ˜¯å…§å»ºçš„ Nouveau é©…å‹•ã€‚

- **æ€§èƒ½èª¿å„ª**ï¼š
  - ä½¿ç”¨ `nvidia-smi` å·¥å…·ä¾†æª¢æŸ¥ GPU ä½¿ç”¨æƒ…æ³ï¼Œç¢ºä¿ GPU è³‡æºå¾—åˆ°æœ‰æ•ˆåˆ©ç”¨ã€‚
  - é€²è¡Œæ¨¡åž‹è¨“ç·´æ™‚ï¼Œæ³¨æ„ GPU è¨˜æ†¶é«”çš„ä½¿ç”¨æƒ…æ³ï¼Œé¿å…å…§å­˜æº¢å‡ºã€‚

### 6. é™„åŠ å·¥å…·èˆ‡è³‡æº

- **NVIDIA NGC**ï¼š
  - NGC æ˜¯ NVIDIA æä¾›çš„ GPU å„ªåŒ–è»Ÿé«”å®¹å™¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ‹‰å–æ·±åº¦å­¸ç¿’ç›¸é—œçš„é è¨“ç·´æ¨¡åž‹å’Œé–‹ç™¼å·¥å…·ã€‚

- **Jupyter Notebook é…ç½®**ï¼š
  - å»ºè­°ä½¿ç”¨ Jupyter Notebook ä¾†é€²è¡Œæ·±åº¦å­¸ç¿’å¯¦é©—ï¼Œå®ƒå¯ä»¥ç›´æŽ¥èˆ‡ Python ä»£ç¢¼é€²è¡Œäº¤äº’ï¼Œä¸¦è¦–è¦ºåŒ–çµæžœã€‚

---

## çµèªž

å»ºç«‹ä¸€å€‹ç©©å®šä¸”é«˜æ•ˆçš„æ·±åº¦å­¸ç¿’é–‹ç™¼ç’°å¢ƒéœ€è¦ç´°å¿ƒé…ç½®å„ç¨®ç¡¬é«”ã€è»Ÿé«”åŠç›¸ä¾é …ã€‚é€™ç¯‡æŒ‡å—è©³ç´°èªªæ˜Žäº†å¦‚ä½•è¨­ç½®å’Œé…ç½®ç’°å¢ƒï¼Œå¹«åŠ©è®€è€…é¿å…å¸¸è¦‹å•é¡Œä¸¦æå‡é–‹ç™¼æ•ˆçŽ‡ã€‚æˆåŠŸçš„å®‰è£èˆ‡è¨­å®šå°‡ä½¿é–‹ç™¼è€…èƒ½å¤ æ›´åŠ å°ˆæ³¨æ–¼æ·±åº¦å­¸ç¿’æ¨¡åž‹çš„é–‹ç™¼å’Œå¯¦é©—ã€‚

---

> ðŸ“– å¦‚éœ€é€²ä¸€æ­¥äº†è§£ï¼Œè«‹åƒé–±åŽŸæ–‡ï¼š  
> [https://blog.twman.org/2020/05/DeepLearning.html](https://blog.twman.org/2020/05/DeepLearning.html)
